<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Advanced To-Do / Habit Tracker</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">FocusFlow</div>
    <div class="actions">
      <button id="add-task-btn" class="primary">Add Task</button>
      <button id="add-habit-btn" class="ghost">Add Habit</button>
      <button id="manage-cats-btn" class="ghost">Categories</button>
      <label class="switch" title="Toggle theme">
        <input id="theme-toggle" type="checkbox" />
        <span></span>
      </label>
    </div>
  </header>

  <main class="layout">
    <section class="board" aria-label="Task board">
      <div id="columns" class="columns"></div>
    </section>

    <aside class="sidebar">
      <section class="panel">
        <header><h3>Progress</h3></header>
        <div id="progress-bars" class="progress-bars"></div>
      </section>

        <section class="panel">
        <header><h3>Stats</h3></header>
        <div id="stats" class="stats"></div>
      </section>

      <section class="panel">
        <header><h3>Calendar</h3></header>
        <div id="calendar" class="calendar"></div>
        <div id="calendar-day-list" class="day-list"></div>
      </section>
    </aside>
  </main>

  <!-- Modals -->
  <div id="modal-backdrop" class="modal-backdrop hidden" role="dialog" aria-modal="true">
    <div class="modal" role="document">
      <header class="modal-header">
        <h3 id="modal-title">New Item</h3>
        <button id="modal-close" aria-label="Close">✕</button>
      </header>
      <form id="item-form" class="modal-body">
        <div class="grid-2">
          <label>Title<input name="title" required maxlength="80" /></label>
          <label>Category<select name="category"></select></label>
        </div>
        <label>Description<textarea name="description" rows="3"></textarea></label>
        <div class="grid-2">
          <label>Priority
            <select name="priority">
              <option>Low</option><option selected>Medium</option><option>High</option>
            </select>
          </label>
          <label>Type
            <select name="type">
              <option value="task">One-time task</option>
              <option value="habit">Habit</option>
            </select>
          </label>
        </div>
        <div id="task-fields" class="grid-2">
          <label>Due date<input type="date" name="dueDate" /></label>
        </div>
        <div id="habit-fields" class="hidden grid-2">
          <label>Frequency
            <select name="frequency">
              <option value="daily">Daily</option>
              <option value="weekly">Weekly</option>
              <option value="custom">Custom (every X days)</option>
            </select>
          </label>
          <label class="custom-days hidden">Every X days
            <input type="number" min="2" max="30" name="interval" />
          </label>
        </div>
        <footer class="modal-footer">
          <button type="button" id="modal-cancel" class="ghost">Cancel</button>
          <button type="submit" class="primary">Save</button>
        </footer>
      </form>
    </div>
  </div>

  <div id="cat-manager" class="modal-backdrop hidden" role="dialog" aria-modal="true">
    <div class="modal small">
      <header class="modal-header">
        <h3>Manage Categories</h3>
        <button class="close-cat">✕</button>
      </header>
      <div class="cat-list" id="cat-list"></div>
      <form id="cat-form" class="cat-form">
        <input name="name" placeholder="New category" required maxlength="18" />
        <input name="color" type="color" value="#6c5ce7" />
        <button class="primary" type="submit">Add</button>
      </form>
    </div>
  </div>

  <div id="toast" class="toast hidden" role="status"></div>

  <script type="module" src="js/app.js"></script>
</body>
</html>
